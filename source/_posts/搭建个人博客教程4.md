---
title: 搭建个人博客教程(四)
comments: false
date: 2018-09-11 10:25:41
categories: blog
tags: hexo
img:
---

# 搭建个人博客教程(四)
<!-- TOC -->

- [搭建个人博客教程(四)](#搭建个人博客教程四)
    - [统计计数](#统计计数)
    - [添加Js脚本](#添加js脚本)
    - [1、显示站点总访问量](#1显示站点总访问量)
    - [2、显示单页面访问量](#2显示单页面访问量)
        - [自定义](#自定义)
    - [代码高亮](#代码高亮)
    - [参考](#参考)

<!-- /TOC -->
## 统计计数
使用`不蒜子`计数，页面需要引入`busuanzi.js`.

## 添加Js脚本
``` html
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
```
**themes/你的主题/layout/_partial/footer.ejs**添加上述脚本即可，当然你也可以添加到 header 中

[不蒜子计数](http://busuanzi.ibruce.info/)

## 1、显示站点总访问量
- 算法a：pv的方式，单个用户连续点击n篇文章，记录n次访问量。

``` html
<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
```

- 算法b：uv的方式，单个用户连续点击n篇文章，只记录1次访客数。

``` html
<span id="busuanzi_container_site_uv">
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
```

如果你是用的hexo，打开themes/你的主题/layout/_partial/footer.ejs添加即可

## 2、显示单页面访问量
- 算法：pv的方式，单个用户点击1篇文章，本篇文章记录1次阅读量。
``` html
<span id="busuanzi_container_page_pv">
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</span>
```

*代码中文字是可以修改的，只要保留id正确即可。*


### 自定义
也可以定义成这样  

``` html
本站总访问量<span id="busuanzi_value_site_pv"></span>次
本站访客数<span id="busuanzi_value_site_uv"></span>人次
本文总阅读量<span id="busuanzi_value_page_pv"></span>次
```


**个性化**

``` html
Total <span id="busuanzi_value_site_pv"></span> views.
您是xxx的第<span id="busuanzi_value_site_uv"></span>个小伙伴
<span id="busuanzi_value_page_pv"></span> Hits
```

- 1、我只要统计不显示？
只引入busuanzi.js，不引入显示标签即可。

- 2、你的标签太丑了，我想美化一下可以么？
可以的，您可以用自己站点的css进行控制，只要内层span的id正确以便回填访问次数即可，甚至标签都可以不是span。

- 3、中文字体太丑了，我的主题不适合？
您可以将本站总访问量xxx次改成view xxx times等英文以获得更和谐的显示效果。

- 4、在访问量数据未取回来之前，我不想让页面显示为诸如“本站总访问量 次”，显得太low，怎么办？
只需要如下css，不蒜子执行完毕会自动将标签显示出来，其他以此类推：

``` html
<span id="busuanzi_container_site_pv" style='display:none'>
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
```
## 代码高亮
*hexo本身支持代码高亮, 如果想扩展代码背景风格或多种语言支持需要添加下列插件*  

两款不同的插件介绍:  
http://jumpbyte.cn/2016/07/02/use-and-install-prettify/  
https://blog.csdn.net/melordljm/article/details/51991389

## 参考
http://ibruce.info/2015/04/04/busuanzi/